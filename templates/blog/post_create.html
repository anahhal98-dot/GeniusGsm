{% extends 'blog/base.html' %}

{% block title %}Create New Post - GeniusGSM{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        max-width: 800px;
        margin: 0 auto;
        animation: fadeIn 0.6s ease;
    }

    .form-title {
        font-size: 36px;
        font-weight: 700;
        margin-bottom: 30px;
        color: var(--accent);
        text-align: center;
    }

    .form-box {
        background-color: var(--dark-bg-secondary);
        border: 1px solid var(--border);
        border-radius: 6px;
        padding: 30px;
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-group:last-child {
        margin-bottom: 0;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--dark-fg);
        font-size: 14px;
    }

    .form-group input[type="text"],
    .form-group input[type="file"],
    .form-group textarea {
        width: 100%;
        padding: 12px 15px;
        background-color: var(--dark-bg);
        border: 1px solid var(--border);
        border-radius: 4px;
        color: var(--dark-fg);
        font-size: 14px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }

    .form-group textarea {
        resize: vertical;
        min-height: 300px;
        font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    }

    .form-group input[type="text"]:focus,
    .form-group input[type="file"]:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.15);
    }

    .file-input-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
        width: 100%;
    }

    .form-group input[type="file"] {
        opacity: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        cursor: pointer;
    }

    .file-input-label {
        display: block;
        padding: 12px 15px;
        background-color: var(--dark-bg);
        border: 1px solid var(--border);
        border-radius: 4px;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s ease;
    }

    .file-input-label:hover {
        border-color: var(--accent);
        background-color: var(--dark-bg-secondary);
    }

    .form-actions {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        justify-content: center;
    }

    .form-actions .btn {
        padding: 12px 30px;
        font-size: 16px;
    }

    .btn-cancel {
        background-color: var(--dark-bg-secondary);
        border: 1px solid var(--border);
        color: var(--dark-fg);
    }

    .btn-cancel:hover {
        background-color: var(--border);
    }

    .help-text {
        font-size: 12px;
        color: var(--dark-fg-secondary);
        margin-top: 5px;
    }

    .errorlist {
        list-style: none;
        margin: 10px 0;
        padding: 0;
    }

    .errorlist li {
        color: var(--danger);
        font-size: 13px;
        margin-bottom: 5px;
        padding: 8px 12px;
        background-color: rgba(217, 83, 79, 0.1);
        border-left: 3px solid var(--danger);
        border-radius: 2px;
    }

    .errorlist + input,
    .errorlist + textarea {
        border-color: var(--danger) !important;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @media (max-width: 768px) {
        .form-title {
            font-size: 24px;
        }

        .form-box {
            padding: 20px;
        }

        .form-actions {
            flex-direction: column;
        }

        .form-actions .btn {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="form-container">
    <h1 class="form-title">‚úçÔ∏è Create New Post</h1>

    <div class="form-box">
        <form method="post" enctype="multipart/form-data" novalidate>
            {% csrf_token %}

            <!-- Title Field -->
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}">Title</label>
                {{ form.title }}
                {% if form.title.errors %}
                    <ul class="errorlist">
                        {% for error in form.title.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                <p class="help-text">Choose an attractive and clear title</p>
            </div>

            <!-- Image Field -->
            <div class="form-group">
                <label for="{{ form.image.id_for_label }}">Image</label>
                <div class="file-input-wrapper">
                    {{ form.image }}
                    <label class="file-input-label">
                        üì∏ Choose an image or drag it here
                    </label>
                </div>
                {% if form.image.errors %}
                    <ul class="errorlist">
                        {% for error in form.image.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                <p class="help-text">Supported formats: JPG, PNG, GIF (Max size: 5 MB)</p>
            </div>

            <!-- Content Field -->
            <div class="form-group">
                <label for="{{ form.content.id_for_label }}">Content</label>
                {{ form.content }}
                {% if form.content.errors %}
                    <ul class="errorlist">
                        {% for error in form.content.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                <p class="help-text">Write the post content clearly and attractively</p>
            </div>

            <!-- Action Buttons -->
            <div class="form-actions">
                <button type="submit" class="btn">‚úÖ Publish Post</button>
                <a href="{% url 'blog:home' %}" class="btn btn-cancel">‚ùå Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
